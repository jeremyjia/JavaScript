<!DOCTYPE html>
<html>
<head>
<title>blClass Test</title>
<script src="https://littleflute.github.io/JavaScript/blclass.js"></script>
</head>
<body>

<script>
function blClass0() { 
    var _v 	= "v0.0.9";
    var _by = "xd";
    var _UI = function()
    {       	
    		var r = document.getElementById("d1");
    		if(!r) {
    			r 			= document.createElement("div"); 
                var html 	=  "blClass UIï¼š";
                html		+= _v;
                html		+= " by " + _by;
        		r.innerHTML = html;
                r.style.border = "1px red solid";
        		document.body.appendChild(r); 
    		} 
            return r;
    }
    var _eDiv = function(boss,id,html) { 
    	var r = document.getElementById(id);
    	if(!r) {
    		r 			= document.createElement("div");
        	r.id 		= id; 
            r.innerHTML = html;
        	boss.appendChild(r); 
    	}
    	return r; 
	}
    var _eLoadRunJSFile = function(worker,href) {          
            var xmlhttp;
            if (window.XMLHttpRequest)
            {// code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp=new XMLHttpRequest();
            }
            else
            {// code for IE6, IE5
                xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange=function()
            {
                if (xmlhttp.readyState==4 && xmlhttp.status==200)
                {
                   worker._2do(xmlhttp.responseText);
                }
            }
            xmlhttp.open("GET",href,true);
            xmlhttp.send(); 
	}//End _eLoadRunJSFile
    var _eRunJs = function(s){   
            eval(s);
        }

    var _ShowObj2Div = function(o2Show,idDiv) {  
    	var oBoss = document.getElementById(idDiv);
    	if(!oBoss) {
       		oBoss = document.createElement("div");
       		oBoss.id = "divBlShowObj";
       		oBoss.style.border = "green 1px solid";
       		document.body.appendChild(oBoss);
     	} 
    	if(!oBoss){
        	alert("boss error!");return;
    	}
    	oBoss.innerHTML = "";
        var obj = o2Show;
    	for(i in obj)
    	{
      		var b = document.createElement("button");
      		b.id = b.innerHTML = i;
      		if(i[0]=="b"&&i[1]=="l") b.style.backgroundColor = "yellow";
      		oBoss.appendChild(b);
      		var d = document.createElement("div");
      		d.innerHTML = obj[i];
      		d.style.border = "blue 1px solid";
      		d.style.backgroundColor = "green";
      		d.style.color = "yellow";
      		oBoss.appendChild(d);
    	}
    }
    this.blVerl = "0.0.3";
    var body = null;
    this.blRun = function()
    { 
        var uiMain = _UI();
        var head = _eDiv(uiMain,"idHead","htmlHeadDiv"); 
        body = _eDiv(uiMain,"idBodyDiv","htmlBodyDiv"); 
        var bottom = _eDiv(uiMain,"idBottomDiv","htmlBottomDiv"); 
        body.style.border = "1px blue solid";        
      
    }
    this.p			= [];
    this.n			= 0;
    this.blLoadPlx = function(href)
    {
    	var r = null; 
        body._2do = function(s)
        { 
        	var xd = _eDiv(this,"xd",s); 
            var strJS =  s;// + "var blo = new blClass;";
            //strJS += "blo.run();";
            _eRunJs(strJS);
        }
        _eLoadRunJSFile(body,href);
        this.p[this.n] = blPlx; 
        
        this.n++;
    }
    this.blShowPlx = function(i)
    { 
    	var plx = this.p[i-1];
        var oPlx = new plx;
        _ShowObj2Div(oPlx,"idHead");
    }
    this.blNewPlx = function(i)
    { 
    	var plx = this.p[i-1];
        var oPlx = new plx;
        return oPlx;
    }
} 

var o = new blClass0;
o.blRun();
o.blLoadPlx("https://littleflute.github.io/JavaScript/blclass.js");
o.blShowPlx(1);
var p1 = o.blNewPlx(1);
p1.run();


</script>

</body>
</html>
